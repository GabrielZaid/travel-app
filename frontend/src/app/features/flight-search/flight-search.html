<form
  #searchForm="ngForm"
  (ngSubmit)="search(searchForm)"
  class="p-6 bg-white shadow-md rounded-2xl border border-[#F2F2F2] space-y-4 sm:space-y-0 sm:flex sm:flex-row sm:items-end sm:gap-4"
  novalidate
>
  <!-- ORIGIN -->
  <div class="flex-1">
    <label class="block text-sm font-medium text-gray-700 mb-1">âœˆï¸ Origin</label>

    <input
      type="text"
      [(ngModel)]="origin"
      name="origin"
      required
      #originField="ngModel"
      [ngClass]="{
        'border-red-400 ring-red-300': originField.invalid && (originField.touched || submitted),
        'border-gray-300': !(originField.invalid && (originField.touched || submitted))
      }"
      class="w-full px-3 py-2 border rounded-xl bg-[#F8F8F8] focus:outline-none focus:ring-2 focus:ring-[#4E63D9]"
      placeholder="Ej: MAD"
      style="text-transform:uppercase"
      (input)="origin = $any($event.target).value?.toUpperCase()"
      list="airports"
    />

    <p *ngIf="originField.invalid && (originField.touched || submitted)" class="text-red-500 text-xs mt-1">
      El origen es obligatorio.
    </p>
  </div>

  <!-- DESTINATION -->
  <div class="flex-1">
    <label class="block text-sm font-medium text-gray-700 mb-1">ğŸ“ Destination</label>

    <input
      type="text"
      [(ngModel)]="destination"
      name="destination"
      required
      #destinationField="ngModel"
      [ngClass]="{
        'border-red-400 ring-red-300': destinationField.invalid && (destinationField.touched || submitted),
        'border-gray-300': !(destinationField.invalid && (destinationField.touched || submitted))
      }"
      class="w-full px-3 py-2 border rounded-xl bg-[#F8F8F8] focus:outline-none focus:ring-2 focus:ring-[#4E63D9]"
      placeholder="Ej: ORY"
      style="text-transform:uppercase"
      (input)="destination = $any($event.target).value?.toUpperCase()"
      list="airports"
    />

    <p *ngIf="destinationField.invalid && (destinationField.touched || submitted)" class="text-red-500 text-xs mt-1">
      El destino es obligatorio.
    </p>
  </div>

  <!-- DATE -->
  <div class="w-full sm:w-44">
    <label class="block text-sm font-medium text-gray-700 mb-1">ğŸ“… Date</label>

    <input
      type="date"
      [(ngModel)]="date"
      name="date"
      required
      #dateField="ngModel"
      [ngClass]="{
        'border-red-400 ring-red-300': dateField.invalid && (dateField.touched || submitted),
        'border-gray-300': !(dateField.invalid && (dateField.touched || submitted))
      }"
      class="w-full px-3 py-2 border rounded-xl bg-[#F8F8F8] focus:outline-none focus:ring-2 focus:ring-[#4E63D9]"
    />

    <p *ngIf="dateField.invalid && (dateField.touched || submitted)" class="text-red-500 text-xs mt-1">
      La fecha es obligatoria.
    </p>
  </div>

  <!-- BUTTON -->
  <div class="pt-1 sm:pt-0">
    <button
      type="submit"
      class="inline-flex items-center gap-2 px-5 py-3 rounded-xl bg-[#4ED9A6] text-white font-semibold shadow-md hover:bg-[#39b988] transition disabled:opacity-50 cursor-pointer"
      [disabled]="searchForm.invalid && submitted"
    >
      ğŸ” Buscar vuelos
    </button>
  </div>
</form>
<datalist id="airports">
  <option value="MAD"></option>
  <option value="PAR"></option>
  <option value="ORY"></option>
  <option value="CDG"></option>
</datalist>
